"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[567],{2567:function(s,e,t){t.r(e),t.d(e,{default:function(){return G}});var r=t(1413),a=t(5671),o=t(3144),i=t(136),n=t(5716),l=t(2791),c=t(6070),u="MyPosts_block_posts__sKsNn",d="MyPosts_new_post__M0TkJ",h="MyPosts_send_post__TkRez",p="Post_posts_arhiv__hEUkJ",f=t(184),m=function(s){return(0,f.jsxs)("div",{className:p,children:[(0,f.jsx)("img",{src:"ava.png",alt:""}),s.message,(0,f.jsxs)("div",{children:["like - ",s.likesCount]})]})},x=t(6139),j=t(704),b=t(5304),v=t(9424),_=(0,b.D)(10),g=l.memo((function(s){var e=s.post.map((function(s){return(0,f.jsx)(m,{message:s.message,id:s.id,likesCount:s.likesCount},s.id)}));return(0,f.jsxs)("div",{className:u,children:[(0,f.jsx)(N,{onSubmit:function(e){s.addPost(e.newPostText)}}),e]})})),N=(0,j.Z)({form:"newPostText"})((function(s){return(0,f.jsxs)("form",{className:d,onSubmit:s.handleSubmit,children:[(0,f.jsx)(x.Z,{component:v.gx,name:"newPostText",placeholder:"Enter your post",validate:[b.C,_]}),(0,f.jsx)("button",{className:h,children:"Send"})]})})),P=g,k=t(4233),I=(0,k.$j)((function(s){return{post:s.profilePage.post,newPostText:s.profilePage.newPostText}}),(function(s){return{addPost:function(e){s((0,c.Wl)(e))}}}))(P),S=t(885),y=t(9798),w={top_image:"ProfileInfo_top_image__Dngbc",avatar:"ProfileInfo_avatar__+thFx",about_me:"ProfileInfo_about_me__DwLhj",about:"ProfileInfo_about__yhz9z",me:"ProfileInfo_me__VH7VO",about_hobbies:"ProfileInfo_about_hobbies__6Fcbn",status:"ProfileInfo_status__I+UnL"},Z=function(s){var e=(0,l.useState)(!1),t=(0,S.Z)(e,2),r=t[0],a=t[1],o=(0,l.useState)(s.status),i=(0,S.Z)(o,2),n=i[0],c=i[1];return(0,l.useEffect)((function(){c(s.status)}),[s.status]),(0,f.jsxs)("div",{className:w.status,children:[!r&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){a(!0)},children:s.status||"-------"})}),r&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{onChange:function(s){c(s.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),s.updateStatus(n)},value:n})})]})},C=t(8987),F=t(5315),M=(0,j.Z)({form:"profile"})((function(s){var e=s.handleSubmit,t=s.profile,r=s.error;return(0,f.jsxs)("form",{onSubmit:e,children:[(0,f.jsx)("table",{children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about,children:"\u041b\u043e\u0433\u0438\u043d:"}),(0,f.jsx)("td",{className:w.me,children:(0,v.Gr)("\u0412\u0430\u0448\u0435 \u0438\u043c\u044f","fullName",[],v.II)})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about,children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),(0,f.jsx)("td",{className:w.me,children:(0,v.Gr)("\u041e\u0431\u043e \u043c\u043d\u0435","aboutMe",[],v.gx)})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),(0,f.jsx)("td",{className:w.me,children:Object.keys(t.contacts).map((function(s){return(0,f.jsxs)("div",{className:w.about,children:[(0,f.jsx)("b",{children:s}),(0,v.Gr)(s,"contacts."+s,[],v.II)]},s)}))})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about,children:"\u0418\u0449\u0443 \u043b\u0438 \u044f \u0440\u0430\u0431\u043e\u0442\u0443:"}),(0,f.jsx)("td",{className:w.me,children:(0,v.Gr)("","lookingForAJob",[],v.II,{type:"checkbox"})})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about_hobbies,children:"\u041a\u0430\u043a\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u044f \u0438\u0449\u0443:"}),(0,f.jsx)("td",{className:w.me,children:(0,v.Gr)("\u041e\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u0430\u043a\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u0432\u044b \u0438\u0449\u0435\u0442\u0435","lookingForAJobDescription",[],v.gx)})]}),r&&(0,f.jsx)("div",{className:F.Z.formSummaryError,children:r})]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{onClick:function(){},children:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})})),O=function(s){var e=s.isOwner,t=s.goToEditMode,r=s.profile;return(0,f.jsxs)("div",{children:[(0,f.jsx)("table",{children:(0,f.jsxs)("tbody",{children:[(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about,children:"\u041b\u043e\u0433\u0438\u043d:"}),(0,f.jsx)("td",{className:w.me,children:r.fullName})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about,children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),(0,f.jsx)("td",{className:w.me,children:r.aboutMe})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"}),(0,f.jsx)("td",{className:w.me,children:Object.keys(r.contacts).map((function(s){return(0,f.jsx)(T,{contactName:s,contactValue:r.contacts[s]},s)}))})]}),(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about,children:"\u0418\u0449\u0443 \u043b\u0438 \u044f \u0440\u0430\u0431\u043e\u0442\u0443:"}),(0,f.jsx)("td",{className:w.me,children:r.lookingForAJob?"\u0434\u0430":"\u043d\u0435\u0442"})]}),r.lookingForAJob&&(0,f.jsxs)("tr",{children:[(0,f.jsx)("td",{className:w.about_hobbies,children:"\u041a\u0430\u043a\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u044f \u0438\u0449\u0443:"}),(0,f.jsx)("td",{className:w.me,children:r.lookingForAJobDescription})]})]})}),(0,f.jsx)("div",{children:e&&(0,f.jsx)("button",{onClick:t,children:"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},T=function(s){var e=s.contactName,t=s.contactValue;return(0,f.jsxs)("div",{children:[(0,f.jsxs)("b",{children:[e,": "]}),t]})},A=function(s){var e=s.isOwner,t=s.profile,r=s.status,a=s.savePhoto,o=s.saveProfile,i=s.updateStatus,n=(0,l.useState)(!1),c=(0,S.Z)(n,2),u=c[0],d=c[1];if(!t)return(0,f.jsx)(y.Z,{});return(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:w.top_image,children:(0,f.jsx)("img",{src:"https://p.bigstockphoto.com/GeFvQkBbSLaMdpKXF1Zv_bigstock-Aerial-View-Of-Blue-Lakes-And--227291596.jpg",alt:""})}),(0,f.jsxs)("div",{className:w.block_info,children:[(0,f.jsx)("div",{className:w.avatar,children:(0,f.jsx)("img",{src:t.photos.large||C,alt:"",className:w.ava})}),(0,f.jsxs)("div",{className:w.about,children:["\u0421\u0442\u0430\u0442\u0443\u0441:"," ",(0,f.jsx)(Z,{status:r,updateStatus:i})]}),(0,f.jsxs)("div",{className:w.about_me,children:[u?(0,f.jsx)(M,{initialValues:t,profile:t,onSubmit:function(s){o(s).then((function(){d(!1)}))}}):(0,f.jsx)(O,{goToEditMode:function(){d(!0)},profile:t,isOwner:e}),e&&(0,f.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&a(s.target.files[0])}})]})]})]})},D=function(s){return(0,f.jsxs)("div",{children:[(0,f.jsx)(A,{isOwner:s.isOwner,profile:s.profile,updateStatus:s.updateStatus,status:s.status,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,f.jsx)(I,{})]})},J=t(9271),E=t(7781),U=function(s){(0,i.Z)(t,s);var e=(0,n.Z)(t);function t(){return(0,a.Z)(this,t),e.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var s=this.props.match.params.userId;s||(s=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getStatus(s)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)(D,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))})}}]),t}(l.Component),G=(0,E.qC)((0,k.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth}}),{getUserProfile:c.et,getStatus:c.lR,updateStatus:c.Nf,savePhoto:c.Ju,saveProfile:c.Ii}),J.EN)(U)}}]);
//# sourceMappingURL=567.791dcfdb.chunk.js.map